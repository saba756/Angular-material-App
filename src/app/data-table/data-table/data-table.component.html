<div class="data-container">
  <div class="container">
    <mat-card class="mat-card">
      <table mat-table [dataSource]="dataSource" class="table-header">
        <colgroup>
          <col width="4%" />
          <col width="30%" />
          <col width="22%" />
          <col width="22%" />
          <col width="22%" />
        </colgroup>
        <ng-container matColumnDef="header-row-first-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="1">&nbsp;</th>
        </ng-container>
        <ng-container matColumnDef="header-row-second-group">
          <th mat-header-cell *matHeaderCellDef [attr.colspan]="1">&nbsp;</th>
        </ng-container>
        <ng-container matColumnDef="header-row-third-group">
          <th
            class="text-header"
            mat-header-cell
            *matHeaderCellDef
            [attr.colspan]="1"
          >
            Monthio assessment
          </th>
        </ng-container>

        <!-- Header row second group -->
        <ng-container matColumnDef="header-row-fourth-group">
          <th
            class="text-header"
            mat-header-cell
            *matHeaderCellDef
            [attr.colspan]="1"
          >
            User assessment
          </th>
        </ng-container>

        <!-- Header row second group -->
        <ng-container matColumnDef="header-row-fifth-group">
          <th
            class="text-header"
            mat-header-cell
            *matHeaderCellDef
            [attr.colspan]="1"
          >
            Decision
          </th>
        </ng-container>
        <tr
          mat-header-row
          *matHeaderRowDef="[
            'header-row-first-group',
            'header-row-second-group',
            'header-row-third-group',
            'header-row-fourth-group',
            'header-row-fifth-group'
          ]"
        ></tr>
      </table>

      <table
        mat-table
        [dataSource]="dataSource"
        multiTemplateDataRows
        class="mat-elevation-z8"
      >
        <colgroup>
          <col width="4%" />
          <col width="30%" />
          <col width="22%" />
          <col width="22%" />
          <col width="22%" />
        </colgroup>
        <ng-container
          matColumnDef="{{ column }}"
          *ngFor="let column of columnsToDisplay; index as i"
        >
          <td mat-cell *matCellDef="let element">
            {{ element[column] }}
            <ng-template [ngIf]="i == 0">
              <svg
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                width="20"
                height="20"
                class="sc-dUbtfd gjMpKO info-icon"
                viewBox="0 0 32 32"
              >
                <path
                  fill="var(--light-grey, #E5E6EB)"
                  d="M31.5 16c0 8.56-6.939 15.499-15.499 15.499s-15.499-6.939-15.499-15.499c0-8.56 6.939-15.499 15.499-15.499s15.499 6.939 15.499 15.499z"
                ></path>
                <path
                  fill="var(--inactive, #46464650)"
                  d="M17.361 19.526h-2.531c0.008-0.704 0.068-1.294 0.182-1.771 0.114-0.484 0.303-0.923 0.568-1.317 0.272-0.394 0.632-0.81 1.079-1.249 0.348-0.333 0.662-0.647 0.942-0.942 0.28-0.303 0.503-0.621 0.67-0.954 0.166-0.341 0.25-0.73 0.25-1.169 0-0.477-0.079-0.882-0.238-1.215s-0.394-0.587-0.704-0.761c-0.303-0.174-0.681-0.261-1.135-0.261-0.378 0-0.734 0.076-1.067 0.227-0.333 0.144-0.602 0.371-0.806 0.681-0.204 0.303-0.314 0.704-0.329 1.203h-2.736c0.015-0.954 0.242-1.756 0.681-2.407s1.029-1.139 1.771-1.464c0.742-0.325 1.57-0.488 2.486-0.488 1.014 0 1.881 0.174 2.6 0.522 0.719 0.341 1.268 0.84 1.646 1.498 0.386 0.651 0.579 1.438 0.579 2.361 0 0.666-0.133 1.271-0.397 1.816-0.265 0.537-0.609 1.041-1.033 1.51-0.424 0.462-0.882 0.923-1.374 1.385-0.424 0.386-0.711 0.806-0.863 1.26-0.151 0.447-0.231 0.957-0.238 1.532zM14.603 23.067c0-0.409 0.14-0.753 0.42-1.033 0.28-0.288 0.662-0.431 1.147-0.431s0.867 0.144 1.147 0.431c0.28 0.28 0.42 0.624 0.42 1.033s-0.14 0.757-0.42 1.044c-0.28 0.28-0.662 0.42-1.147 0.42s-0.867-0.14-1.147-0.42c-0.28-0.288-0.42-0.636-0.42-1.044z"
                ></path>
              </svg>
            </ng-template>
          </td>
        </ng-container>

        <ng-container matColumnDef="expand">
          <td mat-cell *matCellDef="let element">
            <button
              mat-icon-button
              aria-label="expand row"
              (click)="expandFunc(element)"
            >
              <mat-icon *ngIf="expandedElement !== element"
                >keyboard_arrow_down</mat-icon
              >
              <mat-icon *ngIf="expandedElement === element"
                >keyboard_arrow_up</mat-icon
              >
            </button>
          </td>
        </ng-container>

        <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
        <ng-container matColumnDef="expandedDetail">
          <td
            mat-cell
            *matCellDef="let element"
            [attr.colspan]="columnsToDisplayWithExpand.length"
          >
            <div
              class="example-element-detail"
              [@detailExpand]="
                element == expandedElement ? 'expanded' : 'collapsed'
              "
            >
              <table>
                <colgroup>
                  <col width="4%" />
                  <col width="30%" />
                  <col width="22%" />
                  <col width="22%" />
                  <col width="22%" />
                </colgroup>
                <tr *ngFor="let column of INNER_TABLE_DATA">
                  <td>&nbsp;</td>
                  <div class="inner-salary">
                    <span style="margin-left: -7px">
                      <td>{{ column.salary }}</td>
                    </span>
                    <svg
                      version="1.1"
                      xmlns="http://www.w3.org/2000/svg"
                      width="20"
                      height="20"
                      class="sc-dUbtfd gjMpKO info-icon"
                      viewBox="0 0 32 32"
                    >
                      <path
                        fill="var(--light-grey, #E5E6EB)"
                        d="M31.5 16c0 8.56-6.939 15.499-15.499 15.499s-15.499-6.939-15.499-15.499c0-8.56 6.939-15.499 15.499-15.499s15.499 6.939 15.499 15.499z"
                      ></path>
                      <path
                        fill="var(--inactive, #46464650)"
                        d="M17.361 19.526h-2.531c0.008-0.704 0.068-1.294 0.182-1.771 0.114-0.484 0.303-0.923 0.568-1.317 0.272-0.394 0.632-0.81 1.079-1.249 0.348-0.333 0.662-0.647 0.942-0.942 0.28-0.303 0.503-0.621 0.67-0.954 0.166-0.341 0.25-0.73 0.25-1.169 0-0.477-0.079-0.882-0.238-1.215s-0.394-0.587-0.704-0.761c-0.303-0.174-0.681-0.261-1.135-0.261-0.378 0-0.734 0.076-1.067 0.227-0.333 0.144-0.602 0.371-0.806 0.681-0.204 0.303-0.314 0.704-0.329 1.203h-2.736c0.015-0.954 0.242-1.756 0.681-2.407s1.029-1.139 1.771-1.464c0.742-0.325 1.57-0.488 2.486-0.488 1.014 0 1.881 0.174 2.6 0.522 0.719 0.341 1.268 0.84 1.646 1.498 0.386 0.651 0.579 1.438 0.579 2.361 0 0.666-0.133 1.271-0.397 1.816-0.265 0.537-0.609 1.041-1.033 1.51-0.424 0.462-0.882 0.923-1.374 1.385-0.424 0.386-0.711 0.806-0.863 1.26-0.151 0.447-0.231 0.957-0.238 1.532zM14.603 23.067c0-0.409 0.14-0.753 0.42-1.033 0.28-0.288 0.662-0.431 1.147-0.431s0.867 0.144 1.147 0.431c0.28 0.28 0.42 0.624 0.42 1.033s-0.14 0.757-0.42 1.044c-0.28 0.28-0.662 0.42-1.147 0.42s-0.867-0.14-1.147-0.42c-0.28-0.288-0.42-0.636-0.42-1.044z"
                      ></path>
                    </svg>
                  </div>

                  <td>
                    <span style="margin-left: -7px">
                      {{ column.monthio_Assessment }}
                    </span>
                  </td>
                  <td>{{ column.user_Assessment }}</td>
                  <td>
                    <div style="width: 40px">
                      <input
                        class="input-text"
                        type="number"
                        disabled
                        value="{{ column.decision }}"
                      />
                    </div>
                  </td>
                </tr>
              </table>
            </div>
          </td>
        </ng-container>

        <tr
          mat-row
          *matRowDef="let element; columns: columnsToDisplayWithExpand"
          class="example-element-row"
          [class.example-expanded-row]="expandedElement === element"
          (click)="
            expandedElement = expandedElement === element ? null : element
          "
        ></tr>
        <tr
          mat-row
          *matRowDef="let row; columns: ['expandedDetail']"
          class="example-detail-row"
        ></tr>
      </table>
    </mat-card>
  </div>
</div>
